#!/bin/bash

# üìã –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –¥–µ–ø–ª–æ—é

echo "üöÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∫ –¥–µ–ø–ª–æ—é"
echo "====================================="

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤
echo "üìÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –¥–µ–ø–ª–æ—è:"
files=("deploy.sh" "setup-webhook.sh" "test-deploy.sh" "netlify.toml" "netlify/functions/webhook.js")
for file in "${files[@]}"; do
    if [ -f "$file" ]; then
        echo "  ‚úÖ $file"
    else
        echo "  ‚ùå $file –û–¢–°–£–¢–°–¢–í–£–ï–¢"
    fi
done

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö –ø—Ä–∞–≤
echo ""
echo "üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:"
scripts=("deploy.sh" "setup-webhook.sh" "test-deploy.sh")
for script in "${scripts[@]}"; do
    if [ -x "$script" ]; then
        echo "  ‚úÖ $script –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π"
    else
        echo "  ‚ùå $script –Ω–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π (–∑–∞–ø—É—Å—Ç–∏—Ç–µ: chmod +x $script)"
    fi
done

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
echo ""
echo "üì¶ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:"
if [ -d "node_modules" ]; then
    echo "  ‚úÖ node_modules —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã"
else
    echo "  ‚ùå node_modules –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (–∑–∞–ø—É—Å—Ç–∏—Ç–µ: npm install)"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏
echo ""
echo "üèó –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–±–æ—Ä–∫–∏:"
if npm run build > /dev/null 2>&1; then
    echo "  ‚úÖ –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫"
else
    echo "  ‚ùå –û—à–∏–±–∫–∏ —Å–±–æ—Ä–∫–∏ (–∑–∞–ø—É—Å—Ç–∏—Ç–µ: npm run build)"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ª–∏–Ω—Ç–∏–Ω–≥–∞
echo ""
echo "üé® –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ª–∏–Ω—Ç–∏–Ω–≥–∞:"
if npm run lint > /dev/null 2>&1; then
    echo "  ‚úÖ –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º (Prettier + ESLint)"
else
    echo "  ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º (–∑–∞–ø—É—Å—Ç–∏—Ç–µ: npm run format)"
fi

echo ""
echo "====================================="
echo "üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –¥–µ–ø–ª–æ—è:"
echo "1. ./deploy.sh                    # –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π"
echo "2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å BOT_TOKEN –≤ Netlify"
echo "3. ./setup-webhook.sh TOKEN URL   # –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook"
echo "4. ./test-deploy.sh URL           # –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å"
echo ""
echo "üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:"
echo "- README.md         # –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞"
echo "- QUICK_START.md    # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç"
echo "- DEPLOY_GUIDE.md   # –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è"
